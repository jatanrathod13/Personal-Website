---
import { blogPosts } from '../../data/blog-posts'
import { siteConfig } from '../../data/site-config'
import BaseLayout from '../../layouts/BaseLayout.astro'
import { formatDate } from '../../utils/date'

export function getStaticPaths() {
  return blogPosts.map(post => ({
    params: { id: post.id },
    props: { post },
  }))
}

const { post } = Astro.props
---

<BaseLayout title={`${post.title} | ${siteConfig.title}`} description={post.description}>
  <div class="container mx-auto px-4 py-12">
    <div class="max-w-3xl mx-auto">
      <a href="/blog" class="inline-flex items-center text-blue-600 mb-6 hover:underline">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
        Back to all posts
      </a>
      
      <article>
        <header class="mb-8">
          <div class="flex items-center text-sm text-gray-500 mb-3">
            <span>{formatDate(post.date)}</span>
            <span class="mx-2">•</span>
            <span>{post.readTime}</span>
            <span class="mx-2">•</span>
            <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">{post.category}</span>
          </div>
          <h1 class="text-4xl font-bold mb-4">{post.title}</h1>
          <p class="text-xl text-gray-600">{post.description}</p>
          
          <div class="flex flex-wrap gap-2 mt-4">
            {post.tags && post.tags.map((tag) => (
              <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs">{tag}</span>
            ))}
          </div>
        </header>
        
        <div class="aspect-video overflow-hidden rounded-lg mb-10">
          <img 
            src={post.image} 
            alt={post.title} 
            class="w-full h-full object-cover"
          />
        </div>
        
        <div class="prose prose-lg max-w-none" set:html={post.content} />
      </article>
    </div>
  </div>
</BaseLayout> 