---
import { projects } from '@/data'
import Layout from '@/layouts/Layout.astro'

export const prerender = true

export async function getStaticPaths() {
  return projects.map(project => ({
    params: { id: project.id },
    props: { project },
  }))
}

const { project } = Astro.props
---

<Layout title={project.title}>
  <main class="container mx-auto px-4 py-8">
    <article class="max-w-4xl mx-auto">
      <h1 class="text-4xl font-bold mb-4">{project.title}</h1>
      {project.image && (
        <img 
          src={project.image} 
          alt={project.title}
          class="w-full h-[300px] object-cover rounded-lg mb-6"
        />
      )}
      <div class="prose max-w-none">
        <p class="text-lg mb-4">{project.description}</p>
        {project.technologies && (
          <div class="mb-4">
            <h2 class="text-2xl font-bold mb-2">Technologies Used</h2>
            <div class="flex flex-wrap gap-2">
              {project.technologies.map(tech => (
                <span class="px-3 py-1 bg-primary/10 text-primary rounded-full">
                  {tech}
                </span>
              ))}
            </div>
          </div>
        )}
      </div>
    </article>
  </main>
</Layout>